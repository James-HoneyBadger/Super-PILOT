<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Time Warp 2.1.0 - Web Educational IDE</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
</head>

<body>
    <div id="app">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <h1 class="title">‚è∞ Time Warp 2.1.0 - Web IDE</h1>
                <div class="language-selector">
                    <label for="languageMode">Language:</label>
                    <select id="languageMode">
                        <option value="auto">Auto-Detect</option>
                        <option value="pilot">PILOT</option>
                        <option value="basic">BASIC</option>
                        <option value="logo">Logo</option>
                    </select>
                </div>
            </div>
            <div class="header-right">
                <div class="status" id="status">Ready</div>
            </div>
        </header>

        <!-- Toolbar -->
        <div class="toolbar">
            <div class="toolbar-group">
                <button id="runBtn" class="btn btn-primary" title="Run Program (Ctrl+R)">
                    ‚ñ∂Ô∏è Run
                </button>
                <button id="stopBtn" class="btn btn-secondary" disabled title="Stop Program">
                    ‚èπÔ∏è Stop
                </button>
                <button id="debugBtn" class="btn btn-info" title="Debug Program">
                    üêõ Debug
                </button>
                <button id="stepBtn" class="btn btn-debug" disabled title="Step Over">
                    ‚û°Ô∏è Step
                </button>
                <button id="continueBtn" class="btn btn-debug" disabled title="Continue">
                    ‚ñ∂‚ñ∂ Continue
                </button>
            </div>

            <div class="toolbar-group">
                <button id="newBtn" class="btn" title="New File (Ctrl+N)">
                    üìÑ New
                </button>
                <button id="loadDemoBtn" class="btn" title="Load Demo Program">
                    üìÅ Demo
                </button>
                <button id="saveBtn" class="btn" title="Save Program">
                    üíæ Save
                </button>
                <button id="clearBtn" class="btn" title="Clear Output">
                    üóëÔ∏è Clear
                </button>
                <button id="testGraphicsBtn" class="btn btn-success" title="Test Working Graphics">
                    üê¢ Test Graphics
                </button>
                <button id="simpleCanvasBtn" class="btn" title="Simple Canvas Test">
                    üé® Simple Canvas
                </button>
            </div>

            <div class="toolbar-group">
                <button id="helpBtn" class="btn" title="Show Help">
                    ‚ùì Help
                </button>
                <button id="fullscreenBtn" class="btn" title="Toggle Fullscreen">
                    üî≤ Fullscreen
                </button>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Editor Panel -->
            <div class="editor-panel">
                <div class="panel-header">
                    <h3>üìù Code Editor</h3>
                    <div class="editor-info">
                        <span id="cursorInfo">Line: 1, Column: 1</span>
                    </div>
                </div>
                <div class="editor-container">
                    <div class="line-numbers" id="lineNumbers">1</div>
                    <textarea id="codeEditor" class="code-editor"
                        placeholder="Enter your PILOT, BASIC, or Logo program here..." spellcheck="false"></textarea>
                </div>
            </div>

            <!-- Right Panel with Tabs -->
            <div class="right-panel">
                <div class="tab-container">
                    <div class="tabs">
                        <button class="tab active" data-tab="output">üì∫ Output</button>
                        <button class="tab" data-tab="variables">üìä Variables</button>
                        <button class="tab" data-tab="graphics">üê¢ Graphics</button>
                        <button class="tab" data-tab="performance">‚ö° Performance</button>
                        <button class="tab" data-tab="timeline">‚è±Ô∏è Timeline</button>
                        <button class="tab" data-tab="snippets">üìù Snippets</button>
                        <button class="tab" data-tab="help">‚ùì Help</button>
                    </div>

                    <!-- Tab Content -->
                    <div class="tab-content">
                        <!-- Output Tab -->
                        <div id="output-tab" class="tab-pane active">
                            <div class="tab-header">
                                <h4>Program Output</h4>
                                <button id="clearOutputBtn" class="btn-small">Clear</button>
                            </div>
                            <div id="output" class="output-area"></div>
                            <div id="inputPrompt" class="input-prompt hidden">
                                <label id="inputLabel">Enter value:</label>
                                <input type="text" id="inputField" placeholder="Type here...">
                                <button id="inputSubmit">Submit</button>
                            </div>
                        </div>

                        <!-- Variables Tab -->
                        <div id="variables-tab" class="tab-pane">
                            <div class="tab-header">
                                <h4>Variables & Watches</h4>
                                <button id="refreshVarsBtn" class="btn-small">Refresh</button>
                            </div>
                            <div id="variablesList" class="variables-list"></div>
                            <div class="watches-section">
                                <h5>Watch Expressions</h5>
                                <div class="watch-input">
                                    <input type="text" id="watchExpression" placeholder="Variable or expression...">
                                    <button id="addWatchBtn">Add</button>
                                </div>
                                <div id="watchesList" class="watches-list"></div>
                            </div>
                        </div>

                        <!-- Graphics Tab -->
                        <div id="graphics-tab" class="tab-pane">
                            <div class="tab-header">
                                <h4>Turtle Graphics</h4>
                                <div class="graphics-controls">
                                    <button id="clearGraphicsBtn" class="btn-small">Clear</button>
                                    <button id="centerTurtleBtn" class="btn-small">Center</button>
                                    <button id="testGraphicsBtn" class="btn-small">Test</button>
                                    <label>
                                        <input type="checkbox" id="showGridBtn" checked> Grid
                                    </label>
                                </div>
                            </div>
                            <div class="graphics-container">
                                <canvas id="graphicsCanvas" width="400" height="400"></canvas>
                                <div class="turtle-info">
                                    <div>Position: (<span id="turtleX">0</span>, <span id="turtleY">0</span>)</div>
                                    <div>Heading: <span id="turtleHeading">90</span>¬∞</div>
                                    <div>Pen: <span id="penStatus">Down</span></div>
                                </div>
                            </div>
                        </div>

                        <!-- Performance Tab -->
                        <div id="performance-tab" class="tab-pane">
                            <div class="tab-header">
                                <h4>Performance Metrics</h4>
                                <button id="exportPerfBtn" class="btn-small">Export</button>
                            </div>
                            <div class="performance-metrics">
                                <div class="metric">
                                    <label>Execution Time:</label>
                                    <span id="execTime">0.00 s</span>
                                </div>
                                <div class="metric">
                                    <label>Lines Executed:</label>
                                    <span id="linesExecuted">0</span>
                                </div>
                                <div class="metric">
                                    <label>Lines per Second:</label>
                                    <span id="linesPerSec">0</span>
                                </div>
                                <div class="metric">
                                    <label>Variables Created:</label>
                                    <span id="variablesCount">0</span>
                                </div>
                                <div class="metric">
                                    <label>Graphics Commands:</label>
                                    <span id="graphicsCommands">0</span>
                                </div>
                            </div>
                            <div class="performance-chart">
                                <canvas id="performanceChart" width="350" height="200"></canvas>
                            </div>
                        </div>

                        <!-- Timeline Tab -->
                        <div id="timeline-tab" class="tab-pane">
                            <div class="tab-header">
                                <h4>Execution Timeline</h4>
                                <button id="clearTimelineBtn" class="btn-small">Clear</button>
                            </div>
                            <div id="timelineList" class="timeline-list"></div>
                        </div>

                        <!-- Snippets Tab -->
                        <div id="snippets-tab" class="tab-pane">
                            <div class="tab-header">
                                <h4>Code Snippets</h4>
                                <select id="snippetCategory">
                                    <option value="all">All Languages</option>
                                    <option value="pilot">PILOT</option>
                                    <option value="basic">BASIC</option>
                                    <option value="logo">Logo</option>
                                </select>
                            </div>
                            <div id="snippetsList" class="snippets-list"></div>
                        </div>

                        <!-- Help Tab -->
                        <div id="help-tab" class="tab-pane">
                            <div class="tab-header">
                                <h4>Language Reference</h4>
                                <select id="helpLanguage">
                                    <option value="overview">Overview</option>
                                    <option value="pilot">PILOT Commands</option>
                                    <option value="basic">BASIC Commands</option>
                                    <option value="logo">Logo Commands</option>
                                    <option value="examples">Examples</option>
                                </select>
                            </div>
                            <div id="helpContent" class="help-content"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-left">
                <span>Time Warp 2.1.0 Web Edition - Educational Programming IDE</span>
            </div>
            <div class="footer-right">
                <span id="memoryUsage">Memory: 0 MB</span>
                <span>|</span>
                <span>¬© 2025 Super-PILOT Project</span>
            </div>
        </footer>

        <!-- Error Dialog -->
        <div id="errorDialog" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>‚ùå Error</h3>
                    <button class="modal-close">&times;</button>
                </div>
                <div class="modal-body">
                    <p id="errorMessage"></p>
                </div>
                <div class="modal-footer">
                    <button id="errorOkBtn" class="btn btn-primary">OK</button>
                </div>
            </div>
        </div>

        <!-- Loading Indicator -->
        <div id="loadingIndicator" class="loading hidden">
            <div class="spinner"></div>
            <div>Executing program...</div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/interpreter.js?v=20251031b"></script>
    <script src="js/graphics.js?v=20251031"></script>
    <script src="js/simple-graphics.js"></script>
    <script src="js/ui.js?v=20251031"></script>
    <script src="js/app-fixed.js?v=20251031"></script>
    <script src="direct-test.js"></script>
</body>

</html>